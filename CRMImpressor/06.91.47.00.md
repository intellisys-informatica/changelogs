# CRMImpressor

# :file_folder: 06.91.47.00

## :memo: O que foi alterado?

<details open>
<summary>Resumo</summary>

- :star: O método `AgendaMensagem.InserirNotApp` foi modificado para lidar com a nova estrutura da tabela `MOBILEMENSAGEM`
- :warning: É necessário que a tablea `MOBILEMENSAGEM` esteja devidamente atualizada

</details>
:star: Novo
:warning: Correção
:arrow_up: Melhoria

<details open>
<summary>Detalhes</summary>

:star: Centralização dos dados do Push em `MOBILEMENSAGEM`

`AgendaMensagem.InserirNotApp` Busca e agrega todos os dados necessários para o disparo de um Push e centraliza tudo em um registro em `MOBILEMENSAGEM`
Caso o cliente que receberá o push tenha vários registros em PushId (Vários dispositivos) cada PushId vai se tornar um registro independente em `MOBILEMENSAGEM`

</details>

## :cd: Banco de dados

Atualização em `MOBILEMENSAGEM`

ALTER TABLE mobilemensagem add(mobmsgtokendestino VARCHAR(255),
                                mobmsgagrupamento VARCHAR(36),
                                mobmsgconteudoextra VARCHAR2(4000),
                                mobmsgtiposistema NUMBER(10));

<details open>
<summary>Resumo</summary>
</details>

<details open>
<summary>Detalhes</summary>
</details>

<details open>
<summary>Scripts</summary>
</details>

## :wrench: Configurações necessárias

Nenhuma configuração adicional necessária.
